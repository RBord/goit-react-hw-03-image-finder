{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/App/App.module.css","Services/api.js","Components/Searchbar/Searchbar.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/App/App.jsx","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","axios","defaults","baseURL","fetchImages","imageName","page","a","get","then","res","data","hits","Searchbar","onSubmit","className","s","SearchForm","e","preventDefault","target","elements","value","type","SearchFormBtn","SearchFormBtnLabel","SearchFormInput","name","placeholder","ImageGallery","images","onClick","map","image","src","webformatURL","alt","id","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","handleOverlayClick","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","fullImg","React","Component","Button","Spinner","Container","color","height","width","timeout","App","state","reqStatus","showModal","toggleModal","setState","handleFormSubmit","onCloseModal","onClickBtn","prevState","_","isPageUpdate","updateStringQuery","console","error","scrollTo","top","documentElement","scrollHeight","behavior","isLoading","showImagesGallery","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e9b6a635.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3ItOq\",\"Modal\":\"Modal_Modal__20XwU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2-Qa-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Jxjn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Loader_Container__nNuNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__QNg4p\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst YOUR_ACCESS_KEY = '21772018-ea8d686ef9c180e6d9f46e4e4';\r\n\r\nexport const fetchImages = async (imageName, page) => {\r\n    return await axios.get(`?q=${imageName}&page=${page}&key=${YOUR_ACCESS_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(res => {\r\n            return res.data.hits\r\n    })\r\n};","import React from 'react';\r\nimport s from '../Searchbar/Searchbar.module.css';\r\n\r\nconst Searchbar = ({onSubmit}) => {\r\n    return (\r\n        <header className={s.Searchbar}>\r\n            <form className={s.SearchForm} onSubmit={e => {\r\n                e.preventDefault();\r\n                onSubmit(e.target.elements.imageName.value)\r\n            }}>\r\n                <button type=\"submit\" className={s.SearchFormBtn}>\r\n                    <span className={s.SearchFormBtnLabel}>Search</span>\r\n                </button>\r\n\r\n                <input\r\n                className={s.SearchFormInput}\r\n                type=\"text\"\r\n                name=\"imageName\"\r\n                placeholder=\"Search images and photos\"\r\n                />\r\n            </form>\r\n        </header>\r\n    )\r\n}\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({images, onClick}) => {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {images.map(image => (\r\n                <li key={image.id}><img src={image.webformatURL} alt=\"\" onClick={(e => {\r\n                    e.preventDefault()\r\n                    onClick(image.webformatURL);\r\n                })}/></li>\r\n            ))}\r\n        </ul>\r\n    )\r\n};\r\nexport default ImageGallery;","import React from 'react';\r\nimport s from '../Modal/Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends React.Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClick();\r\n        }\r\n    }\r\n    handleOverlayClick = e => {\r\n        if (e.target === e.currentTarget) {\r\n            this.props.onClick();\r\n        }\r\n    }\r\n    render() {\r\n        return createPortal(\r\n            <div className={s.Overlay} onClick={this.handleOverlayClick} >\r\n                <div className={s.Modal} onClick={this.props.onClick}>\r\n                    <img src={this.props.fullImg} alt=\"\" />\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        )\r\n    }\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport s from '../Button/Button.module.css';\r\n\r\nconst Button = ({onClick}) => {\r\n    return (\r\n        <button className={s.Button} onClick={onClick}>Load More</button>\r\n    )\r\n}\r\n\r\nexport default Button;","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from '../Loader/Loader.module.css';\r\n\r\nclass Spinner extends React.Component {\r\n  render() {\r\n    return (\r\n        <div className={s.Container}>\r\n            <Loader\r\n                type=\"Grid\"\r\n                color=\"#00BFFF\"\r\n                height={50}\r\n                width={50}\r\n                timeout={3000}\r\n            />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Spinner;","import React from 'react';\r\nimport { fetchImages } from '../../Services/api';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../Button/Button';\r\nimport Spinner from '../Loader/Loader';\r\n\r\nimport s from '../App/App.module.css';\r\n// import toast, { Toaster } from 'react-hot-toast';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nclass App extends React.Component {\r\n    state = {\r\n        imageName: null,\r\n        images: [],\r\n        reqStatus: 'idle',\r\n        page: 1,\r\n        showModal: false,\r\n        fullImg: null,\r\n    };\r\n     \r\n    toggleModal = props => {\r\n        this.setState(({ showModal}) => ({\r\n            showModal: !showModal,\r\n            fullImg: props,\r\n        }));\r\n    }\r\n\r\n    handleFormSubmit = imageName => {\r\n        this.setState({ imageName });\r\n    }\r\n\r\n    onCloseModal = () => {\r\n        this.setState({\r\n            fullImg: null,\r\n            showModal: false,\r\n        })\r\n    };\r\n\r\n    onClickBtn = () => {\r\n        this.setState(prevState => ({\r\n            page: prevState.page + 1,\r\n        }));\r\n    };\r\n    async componentDidUpdate(_, prevState) {\r\n        const { imageName, page} = this.state;\r\n        const isPageUpdate = prevState.page !== page;\r\n        const updateStringQuery = prevState.imageName !== imageName;\r\n\r\n        try {\r\n            if (updateStringQuery || isPageUpdate) {\r\n            this.setState({ reqStatus: 'pending'});\r\n            const images = await fetchImages(imageName, page);\r\n            this.setState({ reqStatus: 'resolve'});\r\n\r\n            if (isPageUpdate) {\r\n                this.setState(prevState => {\r\n                    return {\r\n                        images: [...prevState.images, ...images],\r\n                    }\r\n                })\r\n            } \r\n            if (updateStringQuery || page === 1 ) {\r\n                this.setState({images, page: 1})\r\n                }\r\n            }\r\n        }\r\n        catch {\r\n            console.error();\r\n        }\r\n        window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n        });\r\n    }\r\n    \r\n    render() {\r\n        const { images, showModal, fullImg, reqStatus } = this.state;\r\n        const isLoading = reqStatus === 'pending';\r\n        const showImagesGallery = images.length >= 1 && !isLoading;\r\n        \r\n        return (\r\n            <div className={s.App}>\r\n                {showModal && <Modal fullImg={fullImg} onClick={this.onCloseModal}/>}\r\n                <Searchbar onSubmit={this.handleFormSubmit} />\r\n                {reqStatus === 'pending' && <Spinner/>}\r\n                {showImagesGallery && <ImageGallery images={images} onClick={this.toggleModal} />}\r\n                {showImagesGallery && <Button onClick={this.onClickBtn} />}\r\n                {/* <Toaster/> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2tAPQ\",\"SearchForm\":\"Searchbar_SearchForm__XmanE\",\"SearchFormBtn\":\"Searchbar_SearchFormBtn__1PIdm\",\"SearchForm-button\":\"Searchbar_SearchForm-button__11V3h\",\"SearchFormBtnLabel\":\"Searchbar_SearchFormBtnLabel__3hiKg\",\"SearchFormInput\":\"Searchbar_SearchFormInput__-RkgP\"};"],"sourceRoot":""}