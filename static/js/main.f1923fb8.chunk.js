(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,t,n){e.exports={Overlay:"Modal_Overlay__3ItOq",Modal:"Modal_Modal__20XwU"}},24:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__2-Qa-"}},25:function(e,t,n){e.exports={Button:"Button_Button__1Jxjn"}},27:function(e,t,n){e.exports={Container:"Loader_Container__nNuNH"}},28:function(e,t,n){e.exports={App:"App_App__QNg4p"}},33:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),i=(n(33),n(8)),s=n.n(i),l=n(15),u=n(11),h=n(4),m=n(5),p=n(7),d=n(6),b=n(13),f=n.n(b);f.a.defaults.baseURL="https://pixabay.com/api/";var j=function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("?q=".concat(t,"&page=").concat(n,"&key=").concat("21772018-ea8d686ef9c180e6d9f46e4e4","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=n(9),O=n.n(g),S=n(1),v=function(e){var t=e.onSubmit;return Object(S.jsx)("header",{className:O.a.Searchbar,children:Object(S.jsxs)("form",{className:O.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageName.value)},children:[Object(S.jsx)("button",{type:"submit",className:O.a.SearchFormBtn,children:Object(S.jsx)("span",{className:O.a.SearchFormBtnLabel,children:"Search"})}),Object(S.jsx)("input",{className:O.a.SearchFormInput,type:"text",name:"imageName",placeholder:"Search images and photos"})]})})},y=n(24),_=n.n(y),x=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.images,n=e.onClick;return Object(S.jsx)("ul",{className:_.a.ImageGallery,children:t.map((function(e){return Object(S.jsx)("li",{children:Object(S.jsx)("img",{src:e.webformatURL,alt:"",onClick:function(t){t.preventDefault(),n(e.webformatURL)}})},e.id)}))})}}]),n}(a.PureComponent),k=n(14),w=n.n(k),C=document.querySelector("#modal-root"),N=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClick()},e.handleOverlayClick=function(t){t.target===t.currentTarget&&e.props.onClick()},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(S.jsx)("div",{className:w.a.Overlay,onClick:this.handleOverlayClick,children:Object(S.jsx)("div",{className:w.a.Modal,onClick:this.props.onClick,children:Object(S.jsx)("img",{src:this.props.fullImg,alt:""})})}),C)}}]),n}(r.a.Component),F=n(25),M=n.n(F),I=function(e){var t=e.onClick;return Object(S.jsx)("button",{className:M.a.Button,onClick:t,id:"loadmore",children:"Load More"})},B=n(26),L=n.n(B),q=(n(74),n(27)),A=n.n(q),D=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(S.jsx)("div",{className:A.a.Container,children:Object(S.jsx)(L.a,{type:"Grid",color:"#00BFFF",height:50,width:50,timeout:3e3})})}}]),n}(r.a.Component),P=n(28),U=n.n(P),E=(n(75),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imageName:null,images:[],reqStatus:"idle",page:1,showModal:!1,fullImg:null},e.toggleModal=function(t){e.setState((function(e){return{showModal:!e.showModal,fullImg:t}}))},e.handleFormSubmit=function(t){e.setState({imageName:t})},e.onCloseModal=function(){e.setState({fullImg:null,showModal:!1})},e.onScroll=function(){var e=document.querySelector("ul");window.scrollTo({top:e.scrollHeight,behavior:"smooth"})},e.onClickBtn=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n){var a,r,o,c,i,u,h=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,r=a.imageName,o=a.page,c=n.page!==o,!(i=n.imageName!==r)&&!c){e.next=16;break}return this.setState({reqStatus:"pending"}),e.prev=5,e.next=8,j(r,o).then(this.setState({reqStatus:"resolved"}));case 8:u=e.sent,c&&1!==o&&(this.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(u))}})),setTimeout((function(){h.onScroll()}),500)),(i||1===o)&&this.setState({images:u,page:1}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error();case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.images,n=e.showModal,a=e.fullImg,r=e.reqStatus,o="pending"===r,c=t.length>1&&!o;return Object(S.jsxs)("div",{className:U.a.App,children:[n&&Object(S.jsx)(N,{fullImg:a,onClick:this.onCloseModal}),Object(S.jsx)(v,{onSubmit:this.handleFormSubmit}),"pending"===r&&Object(S.jsx)(D,{}),c&&Object(S.jsx)(x,{images:t,onClick:this.toggleModal}),c&&Object(S.jsx)(I,{onClick:this.onClickBtn})]})}}]),n}(a.PureComponent));c.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(E,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__2tAPQ",SearchForm:"Searchbar_SearchForm__XmanE",SearchFormBtn:"Searchbar_SearchFormBtn__1PIdm","SearchForm-button":"Searchbar_SearchForm-button__11V3h",SearchFormBtnLabel:"Searchbar_SearchFormBtnLabel__3hiKg",SearchFormInput:"Searchbar_SearchFormInput__-RkgP"}}},[[76,1,2]]]);
//# sourceMappingURL=main.f1923fb8.chunk.js.map