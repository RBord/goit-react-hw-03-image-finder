(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3ItOq",Modal:"Modal_Modal__20XwU"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2-Qa-"}},25:function(e,t,a){e.exports={Button:"Button_Button__1Jxjn"}},27:function(e,t,a){e.exports={Container:"Loader_Container__nNuNH"}},28:function(e,t,a){e.exports={App:"App_App__QNg4p"}},33:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=(a(33),a(8)),s=a.n(i),l=a(15),u=a(11),h=a(4),m=a(5),p=a(7),d=a(6),b=a(13),f=a.n(b);f.a.defaults.baseURL="https://pixabay.com/api/";var j=function(){var e=Object(u.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("?q=".concat(t,"&page=").concat(a,"&key=").concat("21772018-ea8d686ef9c180e6d9f46e4e4","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=a(9),O=a.n(g),S=a(1),v=function(e){var t=e.onSubmit;return Object(S.jsx)("header",{className:O.a.Searchbar,children:Object(S.jsxs)("form",{className:O.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageName.value)},children:[Object(S.jsx)("button",{type:"submit",className:O.a.SearchFormBtn,children:Object(S.jsx)("span",{className:O.a.SearchFormBtnLabel,children:"Search"})}),Object(S.jsx)("input",{className:O.a.SearchFormInput,type:"text",name:"imageName",placeholder:"Search images and photos"})]})})},_=a(24),x=a.n(_),y=function(e){var t=e.images,a=e.onClick;return Object(S.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){return Object(S.jsx)("li",{children:Object(S.jsx)("img",{src:e.webformatURL,alt:"",onClick:function(t){t.preventDefault(),a(e.webformatURL)}})},e.id)}))})},k=a(14),w=a.n(k),C=document.querySelector("#modal-root"),N=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClick()},e.handleOverlayClick=function(t){t.target===t.currentTarget&&e.props.onClick()},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(S.jsx)("div",{className:w.a.Overlay,onClick:this.handleOverlayClick,children:Object(S.jsx)("div",{className:w.a.Modal,onClick:this.props.onClick,children:Object(S.jsx)("img",{src:this.props.fullImg,alt:""})})}),C)}}]),a}(r.a.Component),F=a(25),M=a.n(F),I=function(e){var t=e.onClick;return Object(S.jsx)("button",{className:M.a.Button,onClick:t,children:"Load More"})},B=a(26),L=a.n(B),q=(a(74),a(27)),A=a.n(q),D=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(S.jsx)("div",{className:A.a.Container,children:Object(S.jsx)(L.a,{type:"Grid",color:"#00BFFF",height:50,width:50,timeout:3e3})})}}]),a}(r.a.Component),E=a(28),U=a.n(E),G=(a(75),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imageName:null,images:[],reqStatus:"idle",page:1,showModal:!1,fullImg:null},e.toggleModal=function(t){e.setState((function(e){return{showModal:!e.showModal,fullImg:t}}))},e.handleFormSubmit=function(t){e.setState({imageName:t})},e.onCloseModal=function(){e.setState({fullImg:null,showModal:!1})},e.onClickBtn=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r,o,c,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.imageName,o=n.page,c=a.page!==o,i=a.imageName!==r,e.prev=3,!i&&!c){e.next=12;break}return this.setState({reqStatus:"pending"}),e.next=8,j(r,o);case 8:u=e.sent,this.setState({reqStatus:"resolve"}),c&&this.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(u))}})),(i||1===o)&&this.setState({images:u,page:1});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error();case 17:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 18:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.images,a=e.showModal,n=e.fullImg,r=e.reqStatus,o="pending"===r,c=t.length>=1&&!o;return Object(S.jsxs)("div",{className:U.a.App,children:[a&&Object(S.jsx)(N,{fullImg:n,onClick:this.onCloseModal}),Object(S.jsx)(v,{onSubmit:this.handleFormSubmit}),"pending"===r&&Object(S.jsx)(D,{}),c&&Object(S.jsx)(y,{images:t,onClick:this.toggleModal}),c&&Object(S.jsx)(I,{onClick:this.onClickBtn})]})}}]),a}(r.a.Component));c.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(G,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2tAPQ",SearchForm:"Searchbar_SearchForm__XmanE",SearchFormBtn:"Searchbar_SearchFormBtn__1PIdm","SearchForm-button":"Searchbar_SearchForm-button__11V3h",SearchFormBtnLabel:"Searchbar_SearchFormBtnLabel__3hiKg",SearchFormInput:"Searchbar_SearchFormInput__-RkgP"}}},[[76,1,2]]]);
//# sourceMappingURL=main.e9b6a635.chunk.js.map